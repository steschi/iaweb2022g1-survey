%----------------------------------------------------------------
%
%  File    :  libraries.tex
%
%  Authors :  Pinheiro de Souza, Schintler, Steinkellner
% 
%  Created :  22 Nov 2022
% 
%----------------------------------------------------------------

\chapter{Libraries}

\label{chap:Libraries}

Getting started with WebGL is quite simple. 
One factor that makes it that simple are the many libraries that exist and provide an interface for WebGL.
However the support of most for WebGPU is still lacking even though we should expect a release this quarter.

\section{Two.js}

Two.js is one of the most prominent libraries for working in 2D, hence the name.
Providing a drawing api for drawing in multiple contexts, e.g. svg, canvas and WebGL.\\
On the forum of Two.js the developers provide a little inside into the development.
Talking about the next steps of the library and if WebGPU will be supported.
Stating that \begin{displayquote} "... a WebGPU renderer seems like the natural evolution of renderers in Two.js." \end{displayquote}\parencite{two_quote}.
However also pointing to the fact that WebGPU is not released yet and thus not starting to work on it until there is an official release.

\section{Three.js}

Three.js is as the name suggests a 3D JavaScript library. 
What Two.js is in the 2D domain for the 3D domain there is Three.js.\\
In contrast to Two.js, Three.js is already actively working on implementing a WebGPU renderer.
Currently there is already a WebGPU renderer implemented in Three.js that is usable. 
Even though are still some issues and not all of the features work as intended, it is still usable to a certain degree.
Which is also visible by the several different examples that are already online \parencite{three_examples}.
As well as in our own example the we created using Three.js and the WebGPU renderer. \\

\noindent Here it is visible how the scene setup with the camera can look like. \\

\codesnippet{30}{39}{typescript}{../threejs-example/src/main.ts}

\noindent Before adding objects to a scene we have to create them.
To showcase how it is done with Three.js a line is created.

\codesnippet{43}{49}{typescript}{../threejs-example/src/main.ts}

\noindent Last but not least the created objects have to be added into the scene to be visible.

\codesnippet{81}{84}{typescript}{../threejs-example/src/main.ts}

Adding some hover interactivity it is possible to get something that looks similiar to \ref{fig:three_image}.

\begin{figure}[tp]
  \centering
  \includegraphics[keepaspectratio,width=\linewidth,height=\halfh]
  {images/three_example_img1.png}
  
  \caption[An interactive Three.js example using WebGPU as renderer]
  {
  \imgcredit{Created by the authors.}
  }
  \label{fig:three_img1}
\end{figure}

\begin{figure}[tp]
  \centering
  \includegraphics[keepaspectratio,width=\linewidth,height=\halfh]
  {images/three_example_img2.png}
  
  \caption[An interactive Three.js example using WebGPU as renderer]
  {
  \imgcredit{Created by the authors.}
  }
  \label{fig:three_img}
\end{figure}

\section{Babylon.js}

Last but not least there is Babylon.js.
Babylon.js started the integration process for WebGPU already back in 2019 \parencite{babylon_start_webgpu}. 
The first usable WebGPU renderer in Babylon.js was released with version 5.0 of the library \parencite{babylon_released}.
Another milestone that Babylon.js was able to achieve was to got feature parity with the WebGL renderer back in January 2022 \parencite{babylon_parity}.
Thus providing full WebGPU support for the library. \\

\noindent Similiar to Three.js it is possible to create a example scene quite easily.
First we have to create a scene and specify the engine we want to use.

\codesnippet{118}{121}{typescript}{../babylon-js-example/src/main.ts}
\codesnippet{21}{27}{typescript}{../babylon-js-example/src/main.ts}

\noindent After this we can start adding creating and adding objects to the scene.

\codesnippet{39}{45}{typescript}{../babylon-js-example/src/main.ts}

\noindent Last but not least there the actual interactivity can be added.

\begin{figure}[tp]
  \centering
  \includegraphics[keepaspectratio,width=\linewidth,height=\halfh]
  {images/babylon_example_img1.png}
  
  \caption[An interactive Babylon.js example using WebGPU as renderer]
  {
  \imgcredit{Created by the authors.}
  }
  \label{fig:babylon_example_img1}
\end{figure}

\begin{figure}[tp]
  \centering
  \includegraphics[keepaspectratio,width=\linewidth,height=\halfh]
  {images/babylon_example_img2.png}
  
  \caption[An interactive Babylon.js example using WebGPU as renderer]
  {
  \imgcredit{Created by the authors.}
  }
  \label{fig:babylon_example_img2}
\end{figure}

\begin{displayquote}
  This is a very elaborate quote by me.
\end{displayquote}
